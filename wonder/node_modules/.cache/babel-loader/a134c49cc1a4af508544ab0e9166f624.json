{"ast":null,"code":"var _jsxFileName = \"/Users/rishabhghora/Desktop/Codes/wonder/src/graphPage.js\";\nimport React, { Component } from 'react';\nimport './graphPage.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Subcategory from './menus/Subcategory.js';\nimport Location2 from './menus/Location2.js';\nimport Dates from './menus/Dates.js';\nimport Demographics from './menus/Demographic.js';\nimport firebase from 'firebase';\nimport 'firebase/storage';\nimport firebaseConfig from '../src/Firebase/firebase.js';\nimport { SphereSpinner } from \"react-spinners-kit\";\nimport LineChart from './LineChart.js';\nfirebase.initializeApp(firebaseConfig);\n\nclass GraphPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateLocation1 = state => {\n      this.setState({\n        location: state\n      });\n    };\n\n    this.updateYear = year => {\n      this.setState({\n        year: year\n      });\n    };\n\n    this.makeRequest = url => {\n      var xhr = new XMLHttpRequest();\n      xhr.responseType = 'json';\n\n      xhr.onload = function (e) {\n        if (xhr.readyState === 4) {\n          if (xhr.status === 200) {\n            var data = xhr.response;\n          } else {\n            console.error(xhr.statusText);\n          }\n        }\n      };\n\n      xhr.onreadystatechange = () => {\n        var data = xhr.response;\n\n        if (data != null) {\n          for (let i = 0; i < data.length; i++) {\n            var dates = data[i].Date.split(',');\n            var date = dates[0].substring(0, 3) + ' ' + dates[1] + ' ' + dates[2] + ' 00:00:00' + ' GMT-0500 (Eastern Standard Time)';\n            date = new Date(date);\n            data[i].Date = date;\n          }\n\n          if (url.contains('allStates.json')) {\n            this.setState({\n              allStates: data,\n              data: data\n            });\n          } else if (url.contains('georgia.json')) {\n            this.setState({\n              georgia: data\n            });\n          }\n        }\n      };\n\n      xhr.open('GET', url);\n      xhr.send();\n    };\n\n    this.state = {\n      location: 'All States',\n      allStates: null,\n      georgia: null,\n      data: null,\n      cases: {}\n    };\n    this.updateLocation = this.updateLocation1;\n  }\n\n  componentDidMount() {\n    const storage = firebase.storage();\n    const storageRef = storage.ref();\n    storageRef.child('data/allStates.json').getDownloadURL().then(url => {\n      console.log(url);\n      this.makeRequest(url);\n    });\n    storageRef.child('data/georgia.json').getDownloadURL().then(url => {\n      console.log(url);\n    });\n  }\n\n  render() {\n    console.log(this.state);\n    const _this$state = this.state,\n          location = _this$state.location,\n          allStates = _this$state.allStates,\n          data = _this$state.data;\n    return React.createElement(\"div\", {\n      className: \"graphPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"logo\",\n      src: require('./wonder-logo.png'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      className: \"home\",\n      src: require('./home.png'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      className: \"graph-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Cancer cases \", location), React.createElement(LineChart, {\n      className: \"graph\",\n      data: data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(Subcategory, {\n      className: \"subcategory\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(Location2, {\n      updateLocation: this.updateLocation1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(Dates, {\n      updateYear: this.updateYear,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(Demographics, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), data == null ? React.createElement(\"div\", {\n      className: \"loader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(SphereSpinner, {\n      size: 50,\n      color: \"#2980b9\",\n      loading: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })) : null);\n  }\n\n}\n\nexport default GraphPage;","map":{"version":3,"sources":["/Users/rishabhghora/Desktop/Codes/wonder/src/graphPage.js"],"names":["React","Component","Subcategory","Location2","Dates","Demographics","firebase","firebaseConfig","SphereSpinner","LineChart","initializeApp","GraphPage","constructor","props","updateLocation1","state","setState","location","updateYear","year","makeRequest","url","xhr","XMLHttpRequest","responseType","onload","e","readyState","status","data","response","console","error","statusText","onreadystatechange","i","length","dates","Date","split","date","substring","contains","allStates","georgia","open","send","cases","updateLocation","componentDidMount","storage","storageRef","ref","child","getDownloadURL","then","log","render","require"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './graphPage.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Subcategory from './menus/Subcategory.js';\nimport Location2 from './menus/Location2.js';\nimport Dates from './menus/Dates.js';\nimport Demographics from './menus/Demographic.js';\nimport firebase from 'firebase';\nimport 'firebase/storage';\nimport firebaseConfig from '../src/Firebase/firebase.js';\nimport { SphereSpinner } from \"react-spinners-kit\";\nimport LineChart from './LineChart.js';\n\nfirebase.initializeApp(firebaseConfig);\n\nclass GraphPage extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      location: 'All States',\n      allStates: null,\n      georgia: null,\n      data: null,\n      cases: {},\n    }\n    this.updateLocation = this.updateLocation1\n}\nupdateLocation1 = (state) => {this.setState({ location: state })}\nupdateYear = (year) => {this.setState({ year: year })}\ncomponentDidMount() {\n  const storage = firebase.storage();\n  const storageRef = storage.ref();    \n  storageRef.child('data/allStates.json').getDownloadURL().then(url => {\n    console.log(url);\n    this.makeRequest(url)\n  });\n  storageRef.child('data/georgia.json').getDownloadURL().then(url => {\n    console.log(url)\n  });\n\n\n}\n\nmakeRequest = (url) => {\n    var xhr = new XMLHttpRequest();\n    xhr.responseType = 'json';\n    xhr.onload = function(e){\n      if (xhr.readyState === 4){\n        if (xhr.status === 200){\n          var data = xhr.response\n        } else {\n          console.error(xhr.statusText)\n        }\n      }\n    }\n    xhr.onreadystatechange = () => {\n      var data = xhr.response;\n      if (data != null) {\n        for( let i = 0; i < data.length; i++) {\n          var dates = data[i].Date.split(',');\n          var date = dates[0].substring(0, 3) + ' ' + dates[1] + ' ' + dates[2] + ' 00:00:00' + ' GMT-0500 (Eastern Standard Time)';\n          date = new Date(date);\n          data[i].Date = date;\n        }\n        if (url.contains('allStates.json')) {\n          this.setState({\n            allStates: data,\n            data: data,\n          })\n        } else if (url.contains('georgia.json')) {\n          this.setState({\n            georgia: data,\n          })\n        }\n        \n      } \n    \n    }\n    xhr.open('GET', url);\n    xhr.send();\n\n}\n\n  \n  render() {\n    console.log(this.state);\n    const { location, allStates, data }  = this.state;\n  \n    return (\n      <div className=\"graphPage\">\n        <img className=\"logo\" src={require('./wonder-logo.png')} />\n        <img className=\"home\" src={require('./home.png')} />\n        <h1 className=\"graph-title\">Cancer cases {location}</h1>\n        <LineChart className=\"graph\" data={data} />\n        <Subcategory className=\"subcategory\" />\n        <Location2 updateLocation = {this.updateLocation1}/>\n        <Dates updateYear = {this.updateYear}/>\n        <Demographics />\n        { data == null ? <div className=\"loader\"><SphereSpinner \n                size={50}\n                color=\"#2980b9\"\n                loading={true}\n            /></div> : null}\n      </div>\n    );\n  \n \n  }\n\n}\n\nexport default GraphPage;"]},"metadata":{},"sourceType":"module"}